<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loja Patricinha - Relatórios</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2"></script>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --neon:#ffeb3b;
      --dark:#0a0a0a;
      --glass:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.15);
      --text:#f0f0f0;
      --green:#4ade80;
      --red:#f87171;
    }
    body{
      background:var(--dark);
      color:var(--text);
      font-family:'Inter',sans-serif;
      overflow-x:hidden;
    }
    .navbar{
      position:fixed;top:0;left:0;right:0;
      padding:1rem 2rem;
      display:flex;justify-content:space-between;
      background:rgba(10,10,10,.92);
      border-bottom:1px solid var(--border);
      z-index:1000;
    }
    .logo{
      font-family:'Orbitron';
      font-size:1.6rem;
      color:var(--neon);
    }
    .hero{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      padding:2rem;
    }
    .hero h1{
      font-family:'Orbitron';
      font-size:3rem;
      color:var(--neon);
    }
    .btn-neon{
      border:2px solid var(--neon);
      color:var(--neon);
      padding:.8rem 2rem;
      border-radius:50px;
      margin-top:2rem;
    }
    .section{
      padding:5rem 1rem;
      max-width:1200px;
      margin:auto;
    }
    .section-title{
      font-family:'Orbitron';
      font-size:2.3rem;
      text-align:center;
      color:var(--neon);
      margin-bottom:2rem;
    }
    .metrics-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:1rem;
    }
    .metric-card{
      background:var(--glass);
      border:1px solid var(--border);
      border-radius:1rem;
      padding:1rem;
      text-align:center;
    }
    .metric-value{
      color:var(--neon);
      font-weight:700;
    }
    .comparison.up{color:var(--green)}
    .comparison.down{color:var(--red)}
    .chart-container{
      background:var(--glass);
      border:1px solid var(--border);
      border-radius:1.5rem;
      padding:2rem;
      margin-bottom:4rem;
    }
    canvas{height:420px!important;}
    .tab-container{
      display:flex;
      justify-content:center;
      gap:1rem;
      margin-bottom:2rem;
    }
    .tab-btn{
      padding:.7rem 2rem;
      border-radius:50px;
      background:var(--glass);
      border:1px solid var(--border);
    }
    .tab-btn.active{
      background:var(--neon);
      color:#000;
    }
    footer{
      text-align:center;
      padding:3rem 1rem;
      border-top:1px solid var(--border);
    }
  </style>
</head>

<body>

<nav class="navbar">
  <div class="logo">SITE PATRICINHA</div>
  <div>"Brasileiro também vende barato!"</div>
</nav>

<section class="hero">
  <h1>Relatórios Patricinha</h1>
  <a href="#dashboard" class="btn-neon">Ver Dashboard</a>
</section>

<!-- DASHBOARD MENSAL -->
<section id="dashboard" class="section">
  <h2 class="section-title">Comparativo Mensal</h2>
  <div class="chart-container">
    <canvas id="chartMensal"></canvas>
  </div>
</section>

<!-- FECHAMENTO ANUAL -->
<section class="section">
  <h2 class="section-title">Fechamento Anual</h2>
  <div class="chart-container">
    <canvas id="chartAnual"></canvas>
  </div>
</section>

<!-- RELATÓRIOS -->
<section class="section">
  <h2 class="section-title">Relatório Mensal</h2>

  <div class="tab-container">
    <button class="tab-btn active" data-month="novembro">Novembro 2025</button>
    <button class="tab-btn" data-month="dezembro">Dezembro 2025</button>
  </div>

  <div id="report-content"></div>
</section>

<footer>
  © 2025 Loja Patricinha
</footer>

<script>
const relatorios = {
  novembro:{
    metricas:[
      {label:"Faturado s/ Frete",valor:"R$ 48.419,19",valorNumerico:48419.19},
      {label:"Reembolsado",valor:"R$ 936,89",valorNumerico:936.89},
      {label:"Valor Final",valor:"R$ 56.228,67",valorNumerico:56228.67},
      {label:"Betalabs",valor:"R$ 1.228,00",valorNumerico:1228},
      {label:"Descontos",valor:"R$ 788,59",valorNumerico:788.59}
    ],
    reports:[
      {
        titulo:"Fechamento Mensal - Novembro 2025",
        link:"https://app.powerbi.com/view?r=eyJrIjoiYTEzN2M5MDMtYTU5OS00ODM5LWIyN2ItOGQxMjY3YzcwZjg1IiwidCI6IjVlZTJkNjNiLTgyYjMtNDc0MC04YjFiLTQ2MmRiNDhiYTEyOCJ9"
      }
    ]
  },
  dezembro:{
    metricas:[
      {label:"Faturado s/ Frete",valor:"R$ 55.258,70",valorNumerico:55258.7},
      {label:"Reembolsado",valor:"R$ 1.033,84",valorNumerico:1033.84},
      {label:"Valor Final",valor:"R$ 65.164,31",valorNumerico:65164.31},
      {label:"Betalabs",valor:"R$ 723,60",valorNumerico:723.6},
      {label:"Descontos",valor:"R$ 753,34",valorNumerico:753.34}
    ],
    reports:[
      {
        titulo:"Fechamento Mensal - Dezembro 2025",
        link:"https://app.powerbi.com/view?r=eyJrIjoiMGIzMjdjNDAtMWQ2Yy00ZGZkLWI2NTYtMzkxNjc4NDM3MjkyIiwidCI6IjVlZTJkNjNiLTgyYjMtNDc0MC04YjFiLTQ2MmRiNDhiYTEyOCJ9"
      }
    ]
  }
};

// GRÁFICO MENSAL
new Chart(document.getElementById("chartMensal"),{
  type:"bar",
  data:{
    labels:["Faturado","Reembolsado","Valor Final","Betalabs","Descontos"],
    datasets:[
      {label:"Novembro 2025",data:Object.values(relatorios.novembro.metricas).map(m=>m.valorNumerico),backgroundColor:"#ffeb3b"},
      {label:"Dezembro 2025",data:Object.values(relatorios.dezembro.metricas).map(m=>m.valorNumerico),backgroundColor:"#4ade80"}
    ]
  }
});

// GRÁFICO ANUAL
new Chart(document.getElementById("chartAnual"),{
  type:"bar",
  data:{
    labels:["Faturamento Total","Reembolsos","Valor Final"],
    datasets:[
      {label:"2024",data:[420000,12000,408000],backgroundColor:"#888"},
      {label:"2025",data:[585000,18000,567000],backgroundColor:"#ffeb3b"}
    ]
  }
});

// RENDER RELATÓRIO
const content=document.getElementById("report-content");
function renderMes(m){
  const d=relatorios[m];
  let html='<div class="metrics-grid">';
  d.metricas.forEach(x=>{
    html+=`<div class="metric-card"><div>${x.label}</div><div class="metric-value">${x.valor}</div></div>`;
  });
  html+='</div>';
  d.reports.forEach(r=>{
    html+=`<iframe src="${r.link}" style="width:100%;height:520px;border:0;margin-top:2rem"></iframe>`;
  });
  content.innerHTML=html;
}
renderMes("novembro");

document.querySelectorAll(".tab-btn").forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll(".tab-btn").forEach(x=>x.classList.remove("active"));
    b.classList.add("active");
    renderMes(b.dataset.month);
  }
});
</script>

</body>
</html>
